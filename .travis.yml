language: python
sudo: required
dist: centos
cache:
  pip: true
  directories:
    - $HOME/.ccache

matrix:
  include:
    - sudo: required
      services:
        - docker
      python: 3.6
      env:
        - PIP=pip
        - CIBW_BUILD="cp36-*"
        - CIBW_MANYLINUX1_X86_64_IMAGE="quay.io/pypa/manylinux1_x86_64:01a75168a06f"

install:
  - |
    # setup environment
    ccache -s
    # Upgrade pip and setuptools and wheel to get clean install
    #$PIP install --upgrade pip
    #$PIP install --upgrade wheel
    #$PIP install --upgrade setuptools
    #$PIP install numpy
    #$PIP install cython
    $PIP install -e .

script:
  - $PIP install cibuildwheel
  - cibuildwheel --output-dir wheelhouse
